FLAG_MAP = { # LocationID = [ADDRESS, MASK]
    # Boss Defeats
    0x1C3005: [0xAC2DE,0x10,0x89E], # Molok Defeated
    0x1C3006: [0xAC2DE,0x20,0x89E], # Zoniha Defeated
    0x1C3007: [0xAC2DE,0x40,0x89E], # Bulzeeb Defeated
    0x1C3001: [0xAC2DE,0x01,0x89E], # Baelfael Defeated
    0x1C3002: [0xAC2DE,0x02,0x89E], # Behemos Defeated
    0x1C3003: [0xAC2DE,0x04,0x89E], # Ashtarth Defeated
    0x1C3004: [0xAC2DE,0x08,0x89E], # Zhael Defeated
    # Guardian Armor
    0x1C300A: [0xAC2E8,0x4], # Guardian Armor Neverland
    0x1C300B: [0xAC2E8,0x1], # Guardian Armor Horizon
    0x1C300C: [0xAC2E8,0x2], # Guardian Armor Starlight
    0x1C300D: [0xAC2E9,0x80], # Guardian Armor Aquanet
    # Generators
    0x1C3010: [0xAC2DF,0x1], # Alcatraz
    0x1C3011: [0xAC2DF,0x2], # Aquanet
    0x1C3012: [0xAC2DF,0x4], # Horizon
    0x1C3013: [0xAC2DF,0x8], # Starlight
    0x1C3014: [0xAC2DF,0x10], # Neverland
    0x1C3015: [0xAC2DF,0x20], # Epikyur
    0x1C3016: [0xAC2DF,0x40], # Thantos
    #Head Parts
    0x1C3020: [0xAC2E0,0x1], # Epikyur Head
    0x1C3021: [0xAC2E0,0x2], # Neverland Head
    0x1C3022: [0xAC2E0,0x8], # Thantos Head
    0x1C3023: [0xAC2E0,0x40], # Starlight Head
    0x1C3024: [0xAC2E1,0x20], # Alcatraz Head
    0x1C3025: [0xAC2E1,0x40], # Aquanet Head
    0x1C3026: [0xAC2E1,0x80], # Horizon Head
    #Arm Parts
    0x1C3028: [0xAC2E4,0x1], # Epikyur Arm
    0x1C3029: [0xAC2E4,0x2], # Neverland Arm
    0x1C302A: [0xAC2E4,0x8], # Thantos Arm
    0x1C302B: [0xAC2E4,0x40], # Starlight Arm
    0x1C302C: [0xAC2E5,0x20], # Alcatraz Arm
    0x1C302D: [0xAC2E5,0x40], # Aquanet Head
    0x1C302E: [0xAC2E5,0x80], # Horizon Arm
    #Body Parts
    0x1C3030: [0xAC2E6,0x1], # Epikyur Body
    0x1C3031: [0xAC2E6,0x2], # Neverland Body
    0x1C3032: [0xAC2E6,0x8], # Thantos Body
    0x1C3033: [0xAC2E6,0x40], # Starlight Body
    0x1C3034: [0xAC2E7,0x20], # Alcatraz Body
    0x1C3035: [0xAC2E7,0x40], # Aquanet Body
    0x1C3036: [0xAC2E7,0x80], # Horizon Body
    #Leg Parts
    0x1C3038: [0xAC2EA,0x1], # Epikyur Leg
    0x1C3039: [0xAC2EA,0x2], # Neverland Leg
    0x1C303A: [0xAC2EA,0x8], # Thantos Leg
    0x1C303B: [0xAC2EA,0x40], # Starlight Leg
    0x1C303C: [0xAC2EB,0x20], # Alcatraz Leg
    0x1C303D: [0xAC2EB,0x40], # Aquanet Leg
    0x1C303E: [0xAC2EB,0x80], # Horizon Leg
}
LEVEL_FLAG_MAP = {
    # Planet, Offset, Mask
    # 0: Alcatraz,  1: Aquanet, 2: Horizon, 3: Starlight
    # 4: Neverland  5: Epikyur, 6: Thantos, 7: Noah
    0x1C3040: [0x02,0x02,0x01], # Horizon Left Blue Jewel
    0x1C3041: [0x02,0x03,0x80], # Horizon Right Blue Jewel
    0x1C3042: [0x02,0x01,0x40], # Horizon Right Green Jewel
    0x1C3043: [0x02,0x01,0x08], # Horizon Left Green Jewel
    0x1C3044: [0x02,0x01,0x80], # Horizon Middle Green Jewel
    0x1C3045: [0x02,0x02,0x40], # Horizon Red Jewel

    0x1C3046: [0x03,0x01,0x04], # Starlight King Of Clubs
    0x1C3047: [0x03,0x01,0x02], # Starlight Knight Of Diamonds
    0x1C3048: [0x03,0x01,0x01], # Starlight Ace Of Spaces
    0x1C3049: [0x03,0x02,0x80], # Starlight Queen Of Hearts

    0x1C304A: [0x05,0x03,0x40], # Epikur Haunted House Pass
    0x1C304B: [0x05,0x03,0x80], # Epikur Museum Pass
    0x1C304C: [0x05,0x02,0x02], # Epikur Coaster Battery

    0x1C304D: [0x06,0x03,0x04], # Thantos Lower Train Battery
    0x1C304E: [0x06,0x03,0x02], # Thantos Upper Train Battery
    
    0x1C302F: [0x07,0x03,0x02], # Noah Card Key 1
    0x1C303F: [0x07,0x03,0x04], # Noah Card Key 1
    0x1C304F: [0x07,0x03,0x01], # Noah Card Key 1
    
}
REMOTE_MAP = {
    0x84B: 0x1C3060, # Alcatraz Remote Security Room
    0x840: 0x1C3061, # Aquanet Secret Room
    0x843: 0x1C3061, # Aquanet Remote To the Tower
    0x83F: 0x1C306A, # Aquanet Remote Fountain Room
    0x859: 0x1C3062, # Horizon Remote Secret Room
    0x85D: 0x1C3063, # Horizon Remote Final Deposit
    0x860: 0x1C3064, # Horizon Remote Secret Room
    0x86B: 0x1C3065, # Starlight Remote Casino Lobby
    0x86E: 0x1C3066, # Starlight Remote Waiting Room
    0x823: 0x1C306B, # Neverland Remote Bonus Room
    0x82D: 0x1C3067, # Neverland Remote Underground Corridor
    0x877: 0x1C3068, # Epikyur Remote Haunted House Yard
    0x892: 0x1C3069, # Thantos Remote Crevice
    0x840: 0x1C3070, # Aquanet Remote Secret Room
}
KICK_MAP = {
    0x84A: 0x1C30D0, # Alcatraz Kick Twisted Sewers
    0x84B: 0x1C30D1, # Alcatraz Kick Security Room
    0x84E: 0x1C30D2, # Alcatraz Kick Through the Pipe
    0x850: 0x1C30D3, # Alcatraz Kick Pipe Room
    0x825: 0x1C30D4, # Neverland Kick Intersection
    0x82B: 0x1C30D5, # Neverland Kick Cage Room
    0x833: 0x1C30D6, # Neverland Kick Third Passageway
    0x874: 0x1C30D7, # Epikyur Kick Center Fountain
    0x839: 0x1C30D8, # Aquanet Kick Pool room
    0x83C: 0x1C30D9, # Aquanet Kick Top of Elevator Room
    0x869: 0x1C30DA, # Starlight Kick Alleyway
    0x86E: 0x1C30DB, # Starlight Kick Waiting Room
    0x86C: 0x1C30DC, # Starlight Kick Betting Room
    0x857: 0x1C30DD, # Horizon Kick Leading Road
    0x85E: 0x1C30DE, # Horizon Kick Last Route
    0x88C: 0x1C30DF, # Thantos Kick Lower Battery
    0x892: 0x1C30E0, # Thantos Kick Chasm

}
GLOVE_MAP = {
    0x84C: 0x1C30C0, # Alcatraz Kick Security Room B
    0x850: 0x1C30C1, # Alcatraz Glove Pipe Room
    0x874: 0x1C30C2, # Epikyur Glove Center Fountain
    0x835: 0x1C30C3, # Aquanet Glove Landing Site
    0x83E: 0x1C30C4, # Aquanet Glove Crap Room
    0x844: 0x1C30C5, # Aquanet Glove Fountain Room
    0x86D: 0x1C30C6, # Starlight Glove Slot Machines
    0x870: 0x1C30C7, # Starlight Glove Magician Room
    0x855: 0x1C30C8, # Horizon Glove Eastern Tower
    0x85B: 0x1C30C9, # "Horizon Glove Basement Hub
    0x889: 0x1C30CA, # Thantos Glove Ladder
    0x896: 0x1C30CB, # Thantos Glove Manhole Room
    0x892: 0x1C30CC, # Thantos Glove Chasm
}

STAGE_ITEMS = {
    # Planet, Offset, Set Flag Mask, Item Mask, Place MapID, [Item MapID]
    # 0: Alcatraz,  1: Aquanet, 2: Horizon, 3: Starlight
    # 4: Neverland  5: Epikyur, 6: Thantos, 7: Noah
    0x1C30018: [0x02,0x00000003, 0x00000180, 0x854, [0x858,0x859]], # Blue Gems
    0x1C30019: [0x02,0x00003800, 0x00C80000, 0x85D, [0x862,0x85F,0x863]], # Green Gems
    0x1C3001A: [0x02,0x00000004, 0x00004000, 0x854, [0x85D]], # Red Gem
    0x1C3001B: [0x03,0x0000003C, 0x00078000, 0x867, [0x867,0x86C,0x865,0x869]], # Royal Straight
    0x1C3001C: [0x05,0x00000040, 0x00000040, 0x87F, [0x87C]], # Haunted House Pass
    0x1C3001D: [0x05,0x00000080, 0x00000080, 0x87C, [0x87E]], # Museum Pass
    0x1C3001E: [0x05,0x00000200, 0x00000200, 0x883, [0x87F]], # Coaster Battery
    0x1C3001F: [0x06,0x000000E0, 0x00000006, 0x88E, [0x88B,0x88C ]], # Train Batteries
    #0x1C30050: [0x07,warshipmask,0x00000000, 0x89E, [0x000]] # Warshipkeys

}

SHOP_MAP = {
    # Location ID: [address, mask]
    0x1C3081: [0xAC2DB,0x02], # Shop Heart 1
    0x1C3082: [0xAC2DB,0x04], # Shop Heart 2
    0x1C3083: [0xAC2DB,0x08], # Shop Heart 3
    0x1C3084: [0xAC2DB,0x10], # Shop Heart 4
    0x1C3085: [0xAC2DB,0x20], # Shop Heart 5
    #0x1C3087: [0XAC2DB,0X40], # Youth Potion
    #0x1C3087: [0XAC2DB,0X40], # Youth Potion
    0x1C308A: [0xAC2DB,0x80], # Shop Battle A

    0x1C308B: [0xAC2DA,0x01], # Shop Battle B
    0x1C308C: [0xAC2DA,0x02], # Shop Battle C
    0x1C308D: [0xAC2DA,0x04], # Shop Battle D

    0x1C3090: [0xAC2CF,0x01], # Shop Part Beard
    0x1C3091: [0xAC2CF,0x02], # Shop Part Tank
    0x1C3092: [0xAC2CF,0x04], # Shop Part Fan
    0x1C3093: [0xAC2CF,0x08], # Shop Part Bigfoot
    0x1C3094: [0xAC2CF,0x10], # Shop Part Topknot
    0x1C3095: [0xAC2CF,0x20], # Shop Part Kimono
    0x1C3096: [0xAC2CF,0x40], # Shop Part Sword
    0x1C3097: [0xAC2CF,0x80], # Shop Part Sandals

    0x1C3098: [0xAC2CE,0x01], # Shop Part Cat Ears
    0x1C3099: [0xAC2CE,0x02], # Shop Part Cat Suit
    0x1C309A: [0xAC2CE,0x04], # Shop Part Cat Gloves
    0x1C309B: [0xAC2CE,0x08], # Shop Part Cat Slippers
    0x1C309C: [0xAC2CE,0x10], # Shop Part Headgear
    0x1C309D: [0xAC2CE,0x20], # Shop Part Elephant Suit
    0x1C309E: [0xAC2CE,0x40], # Shop Part Gloves
    0x1C309F: [0xAC2CE,0x80], # Shop Part Kung Fu Shoes

    0x1C30A0: [0xAC2CD,0x01], # Shop Part Ribbon
    0x1C30A1: [0xAC2CD,0x02], # Shop Part Pink Dress
    0x1C30A2: [0xAC2CD,0x04], # Shop Part Slash Claws
    0x1C30A3: [0xAC2CD,0x08], # Shop Part High Heels
    0x1C30A4: [0xAC2CD,0x10], # Shop Part Rabbit Ears
    0x1C30A5: [0xAC2CD,0x20], # Shop Part Duck Suit
    0x1C30A6: [0xAC2CD,0x40], # Shop Part Drill
    0x1C30A7: [0xAC2CD,0x80], # Shop Part Sneakers

    0x1C30A8: [0xAC2CC,0x01], # Shop Part Bald Head
    0x1C30A9: [0xAC2CC,0x02], # Shop Part Apron
    0x1C30AA: [0xAC2CC,0x04], # Shop Part Hand Puppets
    0x1C30AB: [0xAC2CC,0x08], # Shop Part Pommy Slippers
    0x1C30AC: [0xAC2CC,0x10], # Shop Part Gold Helmet
    0x1C30AD: [0xAC2CC,0x20], # Shop Part Gold Suit
    0x1C30AE: [0xAC2CC,0x40], # Shop Part Gold Gloves
    0x1C30AF: [0xAC2CC,0x80], # Shop Part Gold Boots

    0x1C30B0: [0XAC2D7,0x01], # Shop Hint Beard
    0x1C30B1: [0XAC2D7,0x02], # Shop Hint Tank
    0x1C30B2: [0XAC2D7,0x04], # Shop Hint Fan
    0x1C30B3: [0XAC2D7,0x08], # Shop Hint Bigfoot
    0x1C30B4: [0XAC2D7,0x10], # Shop Hint Topknot
    0x1C30B5: [0XAC2D7,0x20], # Shop Hint Kimono
    0x1C30B6: [0XAC2D7,0x40], # Shop Hint Sword
    0x1C30B7: [0XAC2D7,0x80], # Shop Hint Sandals

    0x1C30B8: [0XAC2D6,0x01], # Shop Hint Beard
    0x1C30B9: [0XAC2D6,0x02], # Shop Hint Tank
    0x1C30BA: [0XAC2D6,0x04], # Shop Hint Fan
    0x1C30BB: [0XAC2D6,0x08], # Shop Hint Bigfoot
    0x1C30BC: [0XAC2D6,0x10], # Shop Hint Topknot
    0x1C30BD: [0XAC2D6,0x20], # Shop Hint Kimono
    0x1C30BE: [0XAC2D6,0x40], # Shop Hint Sword
    0x1C30BF: [0XAC2D6,0x80], # Shop Hint Sandals

}

POMMY_SHOP_GENES = [
    "Pommy Knuckle Gene", 
    "Pommy Animal Gene", 
    "Pommy Hammer Gene",
    "Pommy Claw Gene",
    "Pommy Penguin Gene", 
    "Pommy Beast Gene",
    "Pommy Mage Gene",
    "Pommy Knight Gene",
    "Pommy Devil Gene",
    "Pommy Cat Gene",
    "Pommy Bird Gene",
    "Pommy Chicken Gene",
    "Pommy Dragon Gene",
    "Pommy Dinosaur Gene",
    "Pommy Pixie Gene",
    "Pommy Shadow Gene",
]

SHOP_PART_LOCS = [
    # Base
    "Shop Part Beard",
    "Shop Part Tank",
    "Shop Part Fan",
    "Shop Part Bigfoot Shoes",
    "Shop Part Topknot",
    "Shop Part Kimono",
    "Shop Part Sword",
    "Shop Part Sandals",
    # Aquanet
    "Shop Part Cat Ears",
    "Shop Part Cat Suit",
    "Shop Part Cat Gloves",
    "Shop Part Cat Slippers",
    # Horizon
    "Shop Part Headgear",
    "Shop Part Elephant Suit",
    "Shop Part Gloves",
    "Shop Part Kung Fu Shoes",
    # Starlight
    "Shop Part Ribbon",
    "Shop Part Pink Dress",
    "Shop Part Slash Claws",
    "Shop Part High Heels",
    # Neverland
    "Shop Part Rabbit Ears",
    "Shop Part Duck Suit",
    "Shop Part Drill",
    "Shop Part Sneakers",
    # Epikyur
    "Shop Part Bald Head",
    "Shop Part Apron",
    "Shop Part Hand Puppets",
    "Shop Part Pommy Slippers",
    # Thanktos
    "Shop Part Gold Helmet",
    "Shop Part Gold Suit",
    "Shop Part Gold Gloves",
    "Shop Part Gold Boots",
]

SHOP_HINT_IDS = [
    0x1C3081,0x1C3082,0x1C3083,0x1C3084,0x1C3085,0x1C308A,0x1C308B,0x1C308C,0x1C308D,0x1C30C0,
    
    0x1C3090,0x1C3091,0x1C3092,0x1C3093,0x1C3094,0x1C3095,0x1C3096,0x1C3097,
    0x1C3098,0x1C3099,0x1C309A,0x1C309B,0x1C309C,0x1C309D,0x1C309E,0x1C309F,

    0x1C30A0,0x1C30A1,0x1C30A2,0x1C30A3,0x1C30A4,0x1C30A5,0x1C30A6,0x1C30A7,
    0x1C30A8,0x1C30A9,0x1C30AA,0x1C30AB,0x1C30AC,0x1C30AD,0x1C30AE,0x1C30AF,
    
    0x1C30B0,0x1C30B1,0x1C30B2,0x1C30B3,0x1C30B4,0x1C30B5,0x1C30B6,0x1C30B7,
    0x1C30B8,0x1C30B9,0x1C30BA,0x1C30BB,0x1C30BC,0x1C30BD,0x1C30BE,0x1C30BF,
]

DOOR_OFFSETS = [
    0x2A8780, # Alcatraz
    0x2A8920, # Aquanet
    0x2A8610, # Horizon
    0x2A9F90, # Starlight
    0x2A8280, # Neverland
    0x2A84E0, # Epikyur
    0x2A8290, # Thantos
    0x2AAC70, # Noah
]

# GUARDIAN_PATCH = bytearray([0x14,0x40,0x00,0x03])
#POMMY_CHECKS = [0x00,]

DOOR_PATCH = bytearray([
    0x3C,0x0B,0x80,0x0B, # LUI	T3, 0x800B
    0x25,0x6C,0xBD,0x48, # ADDIU	T4, T3, 0xBD48
    0x8D,0x8B,0x00,0x00, # LW	T3, 0x0000 (T4)
    0x01,0x7C,0xB0,0x20, # ADD	T4, T3, GP
    0x82,0xCB,0x00,0x00, # LB	T3, 0x0000 (T4)
    0x39,0x77,0x00,0x01, # XORI	S4, T3, 0x0001
    0x01,0x00,0x00,0x08, # JR	T0
])

INVALID_SONGS = [0x00,0x06,0x17,0x1C,0x1D,0x1E,0x1F,0x20,0x21,0x39,0x3B,0x46,0x4A,0x4B]
INVALID_EFX = [0x03,0x24, 0x2E,0x2F,0x30,0x31,0x34,0x3C,0x3E,0x50,0x52,0x53,
               0x59,0x5D,0x5F,0x62,0x64,0x66,0x67,0x68,0x69,0x6B,0x6C,0x6D,0x6E,
               0x6F,0x72,0x76,0x7A,0x7C,0x81,0x83,0x8E,0xAA,0xAC,0xAD,0xAE]

RECV_INDEX = 0x1D0140
TBL_ADR_POMATK = 0x270058
TBL_ADR_ACTION = 0x26CED0